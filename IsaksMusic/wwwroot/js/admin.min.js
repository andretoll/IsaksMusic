function startLoadingAnimation(){$("#songUploadAnim").removeClass("d-none")}function deleteSong(n){var t=confirm("Are you sure you want to remove this song?");t&&$.ajax({type:"Get",url:"/admin/songs?handler=Delete",data:{id:n},success:function(){var t=$("#row_"+n);ShowSuccessSnackbar("Song removed");removeTableRow(t)}})}function removeTableRow(n){$(n).fadeOut(500,function(){n.remove()})}function editCategory(n,t){var i=$(t).html();console.log("Saving "+n+": "+categoryValue+" => "+i);categoryValue!==i&&$.ajax({type:"Get",url:"/admin/categories?handler=Edit",data:{id:n,name:i},success:function(){ShowSuccessSnackbar("Category updated")}})}var categoryValue,categoryId;$(document).ready(function(){$("a.active").removeClass("active");$('a[href="'+location.pathname+'"]').closest(".list-group-item").addClass("active");$("#songForm").submit(function(){$("#songForm").valid()&&startLoadingAnimation()});$("#songUpload").change(function(){if(this.files.length>0){var t=$("#songUpload")[0].files[0],n=t.name.split(".").pop();n==="wav"||n==="mp3"?$(this).addClass("file-valid"):$(this).removeClass("file-valid")}else $(this).removeClass("file-valid")});$(".list-item-editable").click(function(){this.contentEditable=!0;this.focus();categoryId=$(this).parent("li").attr("id").split("_").pop();categoryValue=$(this).html()});$(".list-item-editable").on("keypress blur",function(n){if(n.keyCode&&n.keyCode===13||n.type==="blur")return this.contentEditable=!1,$(this).html().length===0?$(this).html(categoryValue):editCategory(categoryId,this),!1});$(".list-item-editable").on("cut copy paste",function(n){n.preventDefault()})});